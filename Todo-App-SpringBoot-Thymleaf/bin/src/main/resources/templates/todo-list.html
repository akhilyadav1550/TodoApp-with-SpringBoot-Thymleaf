<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

	<title>Todo Web App of SpringBoot</title>
	<style>
		.center-container {
			display: flex;
			flex-direction: column;
			align-items: center;
			/* horizontal center */
			justify-content: center;
			/* vertical center if you want full-page */
			margin-top: 30px;
		}

		.error-message {
			color: cadetblue;
			font-weight: bold;
			margin-bottom: 15px;
			text-align: center;
		}

		form {
			margin-bottom: 20px;
		}
	</style>
</head>

<body>
	<h2 style="text-align:center;">Todo Web App of SpringBoot/ThymLeaf</h2>

	<div class="center-container">
		<!-- Error message -->
		<div th:if="${errMessage}" class="error-message">
			<p th:text="${errMessage}"></p>
		</div>

		<!-- Centered form -->
		<form th:action="@{/todos/add}" method="post">
			<input type="text" name="task" placeholder="New task" />
			<button type="submit">Add</button>
		</form>
	</div>

	<ul style="text-align:center; list-style:none; padding:0;">
		<li th:each="todo, iterStat : ${todos}" style="margin-bottom: 15px;">
			<span th:text="${iterStat.index + 1} + ' --> '"></span>
			<span th:text="${todo.task}"></span>
			<span th:text="${todo.done ? '✔' : '✘'}"></span>
			<form th:action="@{/todos/toggle/{i}(i=${iterStat.index})}" method="post" style="display:inline;">
				<button type="submit"> Mark / Update </button>
			</form>
		</li>
	</ul>
</body>

</html>